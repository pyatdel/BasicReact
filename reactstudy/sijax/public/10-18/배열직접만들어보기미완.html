<!DOCTYPE html>
<meta charset="UTF-8">
<script>
//var test = {};
//test["0"] = "요렇게 배열식 접근법" 


// 배열 맹글어 보아용  
function SuminArray(){
  this.length = 0;
  return this; // 생략 가능
}
// 메소드 추가 
SuminArray.prototype.push = function(pVal){
    this[this.length] = pVal;
    this.length++;
    return this; // 요따위 한줄로 메소드 체인닝 완성
}

// forEach
SuminArray.prototype.forEach=function(pCB){
   for(let i=0; i<this.length; i++){
      pCB(this[i],i)
   }
}

// filter, 골라서 담은 새로운 배열을 리턴해줌
SuminArray.prototype.filter = function(pCB){
      let filterArr = [];  // 빈 배열 생성
      for(let i=0; i<this.length; i++){
         if(pCB(this[i],i)){
            filterArr.push(this[i]);   
         }
      } 
      return filterArr;  // 새로 담은 배열 리턴
}

// 배열 개별요소 값 변경, 새 배열을 리턴
SuminArray.prototype.map = function(pCB){
      const newArr = [];
      for(let i=0; i<this.length; i++){
          newArr.push(pCB(this[i],i));
      }
      return newArr;
}

console.log(SuminArray);
let testArr = new SuminArray();
testArr.push("수민").push("지영").push("순건");

// 잘 까먹는데, filter, map등은 원본을 수정하지 않고, 새 배열을 리턴해줌
let mapArr = testArr.map(function(elem,index){
     if(elem == "수민"){
        return `<h1>${elem}</h1>`;
     }
     return `<h2>${elem}</h2>`;
})
alert(mapArr);


/* 동작 풀이.... 함수 선언과 호출이 구분되어야 함!!
pCB = function(elem,index){
        if(index == 2) return true;
        return false;
      }
      
let filterArr = [];  // 빈 배열 생성
for(let i=0; i<this.length; i++){
   if(pCB(this[i],i)){
      filterArr.push(this[i]);   
   }
} 
*/
//return filterArr;  // 새로 담은 배열 리턴







let filteredARR = testArr.filter(function(elem,index){
    if(index == 2) return true;
    return false;
})

alert("체킁 "+filteredARR);









/*
testArr.forEach(function(elem,index){
   alert(`${index}번째는 ${elem}이디용`);
});
*/


/*  동작 이해
  매개변수에 의해 아래 동작
  pCB = function(elem,index){
     alert(`${index}번째는 ${elem}이디용`);
  }

  // for문에 의해 아래 동작
  pCB("수민",0);
  pCB("지영",1);
  pCB("순건",2);

*/




//testArr.push("지영");
console.log(testArr);
</script>
