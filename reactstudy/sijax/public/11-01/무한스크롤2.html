<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
<style>
    #suminDisp{
        height: 400px;
        border: 5px groove gold;
        overflow: scroll;
    }
</style>
</head>
<body>
    <h1>수민 무한 스크롤2</h1>
    <div id="suminDisp">
        <h1>수민 스크롤 1</h1>
        <h1>수민 스크롤 2</h1>
        <h1>수민 스크롤 3</h1>
        <h1>수민 스크롤 4</h1>
        <h1>수민 스크롤 5</h1>
        <h1>수민 스크롤 6</h1>
        <h1>수민 스크롤 7</h1>
        <h1>수민 스크롤 8</h1>
        <h1>수민 스크롤 9</h1>
        <h1>수민 스크롤 10</h1>
    </div>
<script>
    const suminDisp = document.querySelector("#suminDisp");

    let jyNum = 1;
    function fScroll(){
        // 거의 이런식으로만 사용된다.(한번은 연습해보기)
        
        let scrollTop = suminDisp.scrollTop;
        let clientHeight = suminDisp.clientHeight;
        let scrollHeight = suminDisp.scrollHeight;
        
        const tunning = 50;
        if( (scrollTop + clientHeight) >= (scrollHeight - tunning)){
            // 이곳에 AJAX 코드가 온다
            // JSON-SERVER를 이용해서 연습해보기(1번만)
            
            if(jyNum > 5) return; // 종료, 서버에서 가져올 데이터가 없다면 
            

            for(let i=1; i<=6; i++){
                let h1 = document.createElement("h1");
                h1.innerHTML = `지영 만만세 ${jyNum}${i} `;
                suminDisp.appendChild(h1);
            }
            jyNum++;
        }

    }
    suminDisp.addEventListener("scroll",fScroll);
</script>
</body>
</html>