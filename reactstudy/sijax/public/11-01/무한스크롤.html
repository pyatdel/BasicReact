<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script>
        for(let i=1; i<12; i++){
            document.write(`<h1>진우 ${i+1}</h1>`);
        }
    </script>
<script>
// 오자 마자 scrollbar를 위로 올리기
// window.scrollTo(0, 0); // 이렇게 해도 크롬은 안간다

setTimeout(() => {
    window.scrollTo(0, 0);
}, 30)

function fScroll(){
    // 아래 3가지 속성을 이해하고 있어야 함, 외우진 않아도 된다
    // 거의 이런 식으로 사용되기 때문에 이해만 하면 복사/붙여넣기 사용해도 무방
    let scrollTop = document.documentElement.scrollTop;
    let clientHeight = document.documentElement.clientHeight;
    let scrollHeight = document.documentElement.scrollHeight;

    // console.log("scrollTop", scrollTop)
    // console.log("clientHeight", clientHeight)
    // console.log("scrollHeight", scrollHeight)
    // console.log("======================구분선======================")

    // scrollTop + clientHeight >= scrollHeight // 사용자가 스크롤을 끝까지 내린 경우. / 소수점의 오차 때문에 == 를 사용하진 않는다
    const jwTunning = 50;
    if((scrollTop + clientHeight) >= (scrollHeight - jwTunning)){
        // alert("끝자락")
        for(let i=11; i<22; i++){

            document.body.innerHTML +=`<h1>진우 ${i+1}</h1>`; // 이게 무한 스크롤
            // document.write(`<h1>진우 ${i+1}</h1>`); // 지우고 새로 작성
        }
    }
}
window.addEventListener("scroll",fScroll);

</script>
</body>
</html>